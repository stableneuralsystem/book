<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Книга Судьбы</title>
    <!-- Подключаем Tailwind CSS для верстки -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Подключаем шрифты: Cinzel Decorative (заголовки) и Cormorant Garamond (текст) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">

    <style>
        /* Основные стили и анимации */
        :root {
            --gold: #D4AF37;
            --dark-gold: #AA8C2C;
            --red-glow: #dc143c;
            --bg-black: #050505;
        }

        body {
            background-color: var(--bg-black);
            color: var(--gold);
            font-family: 'Cormorant Garamond', serif;
            overflow-x: hidden;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        h1, h2, .btn-text, .db-title {
            font-family: 'Cinzel', serif;
        }

        /* Фон со звездами (статичный шум для атмосферы) */
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            background-image: 
                radial-gradient(white, rgba(255,255,255,.2) 2px, transparent 3px),
                radial-gradient(white, rgba(255,255,255,.15) 1px, transparent 2px),
                radial-gradient(white, rgba(255,255,255,.1) 2px, transparent 3px);
            background-size: 550px 550px, 350px 350px, 250px 250px;
            background-position: 0 0, 40px 60px, 130px 270px;
            opacity: 0.3;
            z-index: -1;
        }

        /* Стили для карточек баз знаний */
        .database-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1.5rem;
            width: 90%;
            max-width: 800px;
            margin: 2rem auto;
        }

        .db-card {
            border: 1px solid rgba(212, 175, 55, 0.3);
            padding: 1.5rem;
            text-align: center;
            border-radius: 8px;
            transition: all 0.3s ease;
            background: rgba(0, 0, 0, 0.6);
            cursor: default;
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 10px rgba(0,0,0,0.8);
        }

        .db-card h3 {
            font-size: 1.1rem;
            letter-spacing: 1px;
            margin: 0;
            z-index: 2;
            position: relative;
        }

        /* Состояние "Поиск" - Красное свечение */
        .db-card.searching {
            border-color: var(--red-glow);
            box-shadow: 0 0 20px var(--red-glow), inset 0 0 10px var(--red-glow);
            color: #ffcccc;
            transform: scale(1.05);
        }

        /* Состояние "Выбрано" - Золотое сияние */
        .db-card.selected {
            border-color: var(--gold);
            background: rgba(212, 175, 55, 0.1);
            box-shadow: 0 0 30px var(--gold), inset 0 0 15px var(--gold);
            color: #fff;
            transform: scale(1.1);
            z-index: 10;
        }

        /* Главная кнопка */
        .mystic-btn {
            background: transparent;
            border: 2px solid var(--gold);
            color: var(--gold);
            padding: 1rem 3rem;
            font-size: 1.5rem;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            transition: 0.4s;
            margin-top: 2rem;
            text-transform: uppercase;
            letter-spacing: 3px;
            box-shadow: 0 0 15px rgba(212, 175, 55, 0.2);
        }

        .mystic-btn:hover {
            background: var(--gold);
            color: #000;
            box-shadow: 0 0 30px var(--gold);
        }

        .mystic-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            border-color: #555;
            color: #555;
            box-shadow: none;
        }

        /* Модальное окно */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s ease;
            z-index: 50;
            backdrop-filter: blur(5px);
        }

        .modal-overlay.active {
            opacity: 1;
            pointer-events: auto;
        }

        .modal-content {
            background: #0a0a0a;
            border: 2px solid var(--gold);
            padding: 3rem;
            max-width: 600px;
            width: 90%;
            text-align: center;
            position: relative;
            box-shadow: 0 0 50px rgba(212, 175, 55, 0.2);
            transform: translateY(20px);
            transition: transform 0.5s ease;
        }

        .modal-overlay.active .modal-content {
            transform: translateY(0);
        }

        .modal-title {
            font-size: 1.8rem;
            color: var(--dark-gold);
            margin-bottom: 1.5rem;
            border-bottom: 1px solid #333;
            padding-bottom: 1rem;
        }

        .prediction-text {
            font-size: 1.6rem;
            line-height: 1.6;
            min-height: 100px;
            font-style: italic;
        }

        .close-btn {
            margin-top: 2rem;
            border: 1px solid var(--gold);
            background: transparent;
            color: var(--gold);
            padding: 0.5rem 2rem;
            cursor: pointer;
            font-family: 'Cinzel', serif;
            transition: 0.3s;
        }

        .close-btn:hover {
            background: var(--gold);
            color: #000;
        }

        /* Анимация мигающего курсора */
        .cursor {
            display: inline-block;
            width: 2px;
            height: 1.2em;
            background-color: var(--gold);
            animation: blink 1s step-end infinite;
            vertical-align: bottom;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }

        /* Декоративные элементы */
        .ornament {
            width: 100px;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--gold), transparent);
            margin: 1rem auto;
        }

    </style>
</head>
<body>

    <div class="stars"></div>

    <!-- Заголовок -->
    <header class="text-center mb-8 animate-fade-in">
        <div class="ornament"></div>
        <h1 class="text-5xl md:text-7xl text-transparent bg-clip-text bg-gradient-to-b from-[#D4AF37] to-[#8a6e1c] drop-shadow-lg py-4">
            КНИГА СУДЬБЫ
        </h1>
        <p class="text-xl text-gray-400 tracking-widest uppercase mt-2">Открой завесу тайны</p>
        <div class="ornament"></div>
    </header>

    <!-- Сетка баз данных -->
    <main class="w-full flex flex-col items-center relative">
        
        <div id="database-container" class="database-grid">
            <!-- Базы данных генерируются здесь через JS -->
        </div>

        <!-- Кнопка действия -->
        <div class="mt-12">
            <button id="predict-btn" class="mystic-btn" onclick="startRitual()">
                Узнать судьбу
            </button>
        </div>

        <!-- Статус поиска (текст) -->
        <div id="status-text" class="mt-6 h-8 text-xl text-red-400 font-cinzel tracking-wider opacity-0 transition-opacity duration-300">
            Установка связи с эфиром...
        </div>

    </main>

    <!-- Модальное окно с результатом -->
    <div id="result-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="ornament"></div>
            <h2 id="modal-source" class="modal-title">Источник Знаний</h2>
            
            <div class="relative">
                <p id="typewriter-area" class="prediction-text"></p>
                <span id="cursor" class="cursor"></span>
            </div>

            <div class="ornament"></div>
            <button class="close-btn" onclick="closeModal()">Принять</button>
        </div>
    </div>

    <script>
        // ============================================================
        // ЗОНА РЕДАКТИРОВАНИЯ ДАННЫХ
        // Сюда вы можете добавлять свои базы и предсказания
        // ============================================================
        
        const esotericDatabases = [
            {
                id: 'numerology',
                name: 'Нумерология',
                description: 'Магия чисел открывает путь',
                messages: [
                    "Число 7 сегодня покровительствует вам. Ожидайте духовного прозрения.",
                    "Сумма цифр дня говорит о необходимости паузы. Не спешите с решениями.",
                    "Единица ведет вас. Сегодня вы — лидер, и ваша воля непоколебима.",
                    "Тройка предвещает творческий подъем. Создавайте, а не разрушайте.",
"Число 8 сегодня открывает врата изобилия. Материальное и духовное сливаются в единый поток — примите дары судьбы с благодарностью.",

"Двойка шепчет о балансе. Между действием и бездействием, между словом и молчанием — найдите свою золотую середину.",

"Четверка укрепляет ваш фундамент. То, что вы строите сегодня, послужит опорой для будущих поколений.",

"Девятка завершает цикл. Отпустите старое без сожаления — освобождение есть начало нового пути.",

"Пятерка призывает к переменам. Ветер судьбы наполняет ваши паруса — доверьтесь течению жизни.",

"Шестерка несет гармонию в дом. Семья и любовь — ваши истинные сокровища, храните их с трепетом.",

"Число 11 — врата мастера. Интуиция говорит громче разума, прислушайтесь к внутреннему голосу.",

"Ноль символизирует бесконечность. Вы стоите на пороге безграничных возможностей — смелость откроет любую дверь.",

"Тройка танцует в вашей судьбе. Радость, творчество и самовыражение — вот ключи к сегодняшнему дню.",

"Единица зажигает огонь первопроходца. Ваша независимость — не гордыня, а призвание, следуйте ему бесстрашно.",

"Семерка углубляет мудрость. В тишине уединения вы найдете ответы, которые мир не может дать.",

"Двойка учит дипломатии. Сила не в победе над другими, а в умении создавать мосты между сердцами.",

"Восьмерка вращает колесо кармы. То, что вы отдаете миру, возвращается сторицей — сейте добро.",

"Четверка требует терпения. Великие дела не совершаются в спешке — каждый камень требует своего времени.",

"Шестерка призывает к служению. В заботе о других вы обретаете смысл, который не купишь за деньги.",

"Девятка освещает путь мудреца. Ваш опыт — бесценный дар для тех, кто только начинает свой путь.",

"Пятерка раскрывает объятия приключениям. Безопасность — иллюзия, истинная жизнь начинается за границами комфорта.",

"Число 22 — архитектор реальности. Ваши мечты обладают силой материализации, дерзайте воплощать невозможное.",

"Тройка поет песню оптимизма. Даже в темноте видьте свет — ваша вера способна изменить обстоятельства.",

"Единица коронует вас. Сегодня вы не следуете за толпой, вы создаете тропу, по которой пойдут другие.",

"Семерка открывает третий глаз. Знаки и синхронности окружают вас — наблюдайте внимательно.",

"Ноль напоминает о пустоте как источнике. Из ничего рождается всё — позвольте себе начать с чистого листа.",

"Восьмерка дарует силу воли. Дисциплина сегодня — это свобода завтра, не отступайте от намеченного.",

"Четверка укореняет в настоящем. Прошлое ушло, будущее туманно — здесь и сейчас ваша истинная сила.",

"Шестерка исцеляет раны. Прощение — не слабость, а величайшая форма любви к себе и миру.",

"Двойка соединяет противоположности. В единстве мужского и женского, тьмы и света рождается целостность.",

"Девятка венчает старое золотом. Благословите всё, что уходит — это делает место для чуда.",

"Пятерка будоражит кровь. Рутина — враг души, сегодня нарушьте хотя бы одно правило ради живости.",

"Число 33 — голос сострадания. Ваша способность чувствовать боль мира — это дар, используйте его для исцеления.",

"Тройка расцветает яркими красками. Жизнь слишком коротка для серости — выражайте себя смело и искренне.",
                    "Циклы замкнулись. То, что вы начали 9 дней назад, принесет плоды."
                ]
            },
            {
                id: 'runes',
                name: 'Древние Руны',
                description: 'Голос северных богов',
                messages: [
                    "Выпала руна Феху. Ожидайте материального благополучия или ценного подарка.",
                    "Руна Райдо указывает на путь. Поездка или душевное путешествие неизбежно.",
                    "Иса замораживает ситуацию. Сейчас не время действовать, время ждать.",
                    "Руна Соулу дарует вам энергию солнца. Победа будет за вами.",
                    "Выпала руна Феху. Богатство приходит не только в золоте — откройте руки для изобилия во всех его формах.",

"Руна Уруз пробуждает первозданную силу. Дикая энергия быка течет в ваших жилах — укротите её мудростью.",

"Турисаз встала на вашем пути. Шип защищает розу — ваши границы священны, защищайте их без колебаний.",

"Ансуз шепчет словами богов. Сегодня вы — проводник высшей мудрости, говорите и будьте услышаны.",

"Райдо зовет в дорогу. Каждое путешествие начинается с первого шага — судьба уже седлает коня для вас.",

"Кеназ зажигает факел во тьме. Знание, которое вы ищете, уже горит внутри вас — осветите свой путь.",

"Гебо связывает узами дара. То, что вы отдаете от сердца, возвращается в семикратном размере.",

"Вуньо дарует радость после бури. Темная полоса заканчивается — приготовьтесь встретить счастье с открытым сердцем.",

"Хагалаз разрушает иллюзии градом. То, что рушится сейчас, было призрачным — истинное выдержит любую бурю.",

"Наутиз сковывает необходимостью. В ограничениях скрыт урок — нужда рождает изобретательность и силу духа.",

"Иса замораживает момент. В кристалле льда застывает время — терпение сейчас ценнее любого действия.",

"Йера обещает урожай терпеливым. Цикл завершается, семена прошлого дают плоды — пожинайте заслуженное.",

"Эйваз соединяет миры. Между небом и землей натянута нить судьбы — вы держите её в своих руках.",

"Перт открывает тайну инициации. Нечто скрытое готово родиться — доверьтесь мистерии трансформации.",

"Альгиз защищает крыльями валькирий. Высшие силы простирают над вами щит — страх неуместен сегодня.",

"Соулу озаряет победным светом. Тьма отступает перед вашим внутренним солнцем — сияйте без стеснения.",

"Тейваз вручает меч справедливости. Воин духа побеждает не силой, а честью — ваше слово есть закон.",

"Беркана укрывает нежностью березы. Материнская энергия питает новые начинания — взращивайте их с любовью.",

"Эваз несет скорость перемен. Два коня судьбы мчат вас к новым горизонтам — отпустите поводья страха.",

"Манназ отражает человеческую суть. В зеркале руны вы видите себя истинного — примите эту встречу.",

"Лагуз течет водой интуиции. Поток подсознания несет послания — погрузитесь в глубины своей души.",

"Ингуз созревает плодом потенциала. Семя пробивает почву — ваше истинное предназначение готово прорасти.",

"Дагаз возвещает рассвет. Ночь кончилась, новый день начинается — преображение необратимо и благословенно.",

"Отал хранит наследие предков. Корни питают крону — почтите тех, кто шел перед вами по этой земле.",

"Руна Вирд легла пустой стороной. Чистая судьба, незаписанная страница — вы сами творец своей истории.",

"Турисаз повернулась шипом внутрь. Враг не снаружи, а в вашем сердце — время для внутренней битвы настало.",

"Перт хранит секрет в чреве тайны. То, что скрыто, имеет право оставаться скрытым — не все нужно знать сейчас.",

"Хагалаз смывает ложные основания. Разрушение — это милость богов, расчищающая место для истинного храма.",

"Кеназ горит огнем творца. Ваш внутренний алхимик превращает свинец опыта в золото мудрости.",

"Ансуз звучит эхом Одина. Слова имеют силу рун — произносите их осознанно, ибо они творят реальность.",
                    "Альгиз защищает вас. Доверьтесь своей интуиции, она ваш щит."
                ]
            },
            {
                id: 'astrology',
                name: 'Астрология',
                description: 'Влияние планет',
                messages: [
                    "Меркурий выходит из ретрограда. Коммуникации наладятся, ждите важных вестей.",
                    "Венера в вашем доме. Идеальное время для любви и красоты.",
                    "Сатурн требует дисциплины. Строгость к себе сегодня окупится сторицей.",
                    "Луна в растущей фазе. Ваша энергия прибывает, начинайте новое.",
                    "Меркурий входит в ретроград. Прошлое стучится в двери — пересмотрите незавершенные дела и невысказанные слова.",

"Венера танцует в гармонии. Магнетизм вашей души притягивает красоту и любовь — откройтесь навстречу чувствам.",

"Марс зажигает воинский дух. Пассивность сегодня — преступление против собственной судьбы, действуйте решительно.",

"Юпитер расширяет горизонты. Вселенная готова одарить вас щедростью — мыслите масштабно, ограничения иллюзорны.",

"Сатурн устанавливает границы. Дисциплина — это любовь к будущему себе, примите уроки строгого учителя.",

"Уран разрывает цепи привычного. Революция начинается изнутри — освободитесь от устаревших убеждений.",

"Нептун окутывает дымкой мистерии. Границы реальности размыты — доверьтесь интуиции больше, чем логике.",

"Плутон трансформирует в глубинах. Смерть старого «я» болезненна, но необходима — феникс рождается из пепла.",

"Луна в новолуние дарует чистый лист. Засейте намерения в плодородную почву темной ночи.",

"Полнолуние освещает тайное. То, что было скрыто, выходит на свет — примите откровения с мужеством.",

"Солнце входит в ваш знак. Год личной силы начинается — вы в центре космической сцены, сияйте.",

"Луна убывает, унося лишнее. Отпускание — это искусство мудрых, освободите место для нового цикла.",

"Ретроградный Меркурий завершает круг. Туман рассеивается, связь восстанавливается — говорите то, что откладывали.",

"Венера в оппозиции к Марсу. Страсть и конфликт сплетаются в танце — найдите баланс между желанием и действием.",

"Сатурн возвращается на исходную. Каждые 29 лет судьба подводит итоги — урок усвоен или повторится вновь.",

"Юпитер благословляет ваш дом процветания. Изобилие течет рекой — не сжимайте кулаки, а раскройте ладони.",

"Марс в ретрограде гасит пламя. Агрессия обращается внутрь — перенаправьте энергию на внутреннюю трансформацию.",

"Черная Луна Лилит пробуждает теневую сторону. Примите отвергнутые части себя — в тени живет ваша сила.",

"Северный Узел указывает направление судьбы. Путь может пугать, но он ваш — идите туда, куда тянет душа.",

"Хирон исцеляет через раны. Ваша боль — это дар целителя, поделитесь опытом с теми, кто страдает.",

"Луна в перигее усиливает эмоции. Чувства захлестывают волнами — не сопротивляйтесь потоку, а плывите с ним.",

"Солнечное затмение перезагружает программу. Портал открыт — шагните в новую версию реальности смело.",

"Лунное затмение обнуляет карму. Кармические узлы развязываются — прошлые жизни отпускают свою хватку.",

"Венера в ретрограде пересматривает ценности. То, что вы любили, требует переоценки — истинное останется.",

"Меркурий соединяется с Солнцем. Ясность мысли достигает пика — принимайте важные решения в этот день.",

"Парад планет выстраивает космический мост. Редкое выравнивание открывает врата невероятных возможностей.",

"Луна без курса блуждает в пустоте. Решения, принятые сейчас, не принесут плодов — подождите, пока она войдет в знак.",

"Стеллиум концентрирует энергию в одном доме. Вся мощь космоса фокусируется на одной сфере жизни — используйте это.",

"Юпитер в соединении с Плутоном рождает титанов. Трансформация масштабов империи — ваше влияние растет экспоненциально.",

"Сатурн образует гармоничный трин. Структура и поток сливаются воедино — дисциплина становится радостью, а не бременем.",
                    "Марс агрессивен. Избегайте конфликтов, преобразуйте гнев в спорт."
                ]
            },
            {
                id: 'spacetime',
                name: 'Пространство и Время',
                description: 'Хроники вечности',
                messages: [
                    "Вы находитесь в точке бифуркации. Одно решение изменит временную линию.",
                    "Время течет быстрее для вас сегодня. Успейте поймать момент.",
                    "Пространство открывает двери. Вы окажетесь в нужном месте случайно.",
                    "Эхо прошлого догоняет вас. Разрешите старый долг, чтобы идти дальше.",
                    "Временные петли сходятся в этой точке. То, что вы переживали раньше, возвращается для окончательного разрешения.",

"Пространство сворачивается между мирами. Синхронности множатся — вы на пороге квантового скачка.",

"Параллельные реальности истончаются. Ваше «я» из другой линии посылает вам знаки — прислушайтесь внимательно.",

"Время замедляется в священные часы. Между вдохом и выдохом умещается вечность — используйте этот зазор.",

"Вы находитесь в узле временных линий. Каждый выбор сегодня расщепляет реальность на тысячу версий.",

"Пространство помнит всё, что здесь происходило. Стены шепчут истории — откройте уши для голосов места.",

"Будущее просачивается в настоящее. Дежавю — это не ошибка памяти, а предвестие грядущего.",

"Вы движетесь быстрее времени сегодня. Часы лгут — ваше внутреннее время течет по собственным законам.",

"Портал открывается в обыденном месте. Привычная дорога приведет туда, где вы никогда не были.",

"Эхо будущего достигает вас сегодня. Решение, которое вы примете, уже отозвалось в грядущих годах.",

"Пространство складывается оригами судьбы. Дальнее становится близким — встреча неизбежна.",

"Вы застряли в моменте между тиками часов. Выход не в движении вперед, а в полном присутствии здесь.",

"Временной коридор открыт в прошлое. Незавершенное дело тянет вас назад — закройте этот цикл навсегда.",

"Пространство искривляется вокруг вашей ауры. Вы создаете гравитационное поле событий — притягиваете судьбоносное.",

"Хронология нарушена в вашей линии. События приходят не по порядку — доверьтесь хаосу, в нём скрыт порядок.",

"Вы стоите в центре пространственного креста. Четыре направления зовут одновременно — выбор определит всё.",

"Время сжимается в точку сингулярности. Прошлое, настоящее и будущее сливаются в одно «сейчас» — действуйте.",

"Пространство между словами расширяется. В паузах спрятаны послания — слушайте тишину внимательнее звуков.",

"Вы скользите между секундами. Мир замирает, пока вы движетесь — воспользуйтесь этой остановкой времени.",

"Геометрия пространства меняется вокруг вас. Прямые линии искривляются — кратчайший путь не тот, что кажется.",

"Временная волна накрывает вас. Ускорение неизбежно — держитесь крепче, трансформация стремительна.",

"Пространство дышит вместе с вами. Вдох притягивает возможности, выдох отпускает отжившее — дышите осознанно.",

"Вы вошли в зону вневременья. Дедлайны теряют смысл — работайте в потоке, результат превзойдет ожидания.",

"Пространственные границы растворяются. Расстояние — иллюзия, связь через километры сильнее, чем физическая близость.",

"Время движется вспять для одной ситуации. Возвращение к исходной точке — не регресс, а шанс переписать сценарий.",

"Вы существуете одновременно в двух местах. Раздвоение не иллюзия — ваша энергия нужна там и здесь.",

"Пространство сворачивается в точку встречи. Тот, кого вы ищете, движется навстречу из своего конца лабиринта.",

"Временные слои наслаиваются друг на друга. Вы видите сквозь завесу — прошлые воплощения касаются настоящего.",

"Вы находитесь в карманном измерении. Здесь действуют другие законы — невозможное становится обыденным.",

"Пространство-время сплетается в узел. Развязать его можно лишь отпустив контроль — позвольте вселенной распутать нити.",
                    "Синхроничность событий поразит вас. Случайностей не бывает."
                ]
            },
            {
                id: 'clairvoyance',
                name: 'Ясновиденье',
                description: 'Взгляд сквозь завесу',
                messages: [
                    "Вижу встречу с человеком из прошлого, который принесет весть.",
                    "Туман рассеивается. К вечеру вы получите ясный ответ на мучающий вопрос.",
                    "Остерегайтесь лестницы, ведущей вниз. Поднимайтесь только наверх.",
                    "Вижу свет в окне. Домашний уют станет вашим местом силы сегодня.",
                    "Ветер перемен уже касается твоего плеча, ожидай нового.", 
"То, что было скрыто в тени, скоро выйдет на свет.", 
"Случайная фраза незнакомца подарит тебе ключ к решению.", 
"Дорога, которая кажется трудной, приведет к самому живописному виду.", 
"Обрати внимание на сны этой ночи, в них скрыта подсказка.", 
"Дверь, в которую ты стучишься, скоро отворится сама.", 
"Тишина сегодня скажет тебе больше, чем громкие слова.", 
"Старый друг напомнит о себе, когда ты меньше всего этого ждешь.", 
"Не торопи время, всему свой черед, и твой час близок.", 
"То, что ты ищешь вовне, уже находится внутри тебя.", 
"Знак судьбы придет в форме неожиданного подарка.", 
"Перекресток судьбы уже близко, слушай свое сердце при выборе.", 
"Забытая мелодия пробудит важные воспоминания и даст сил.", 
"Твоя доброта сегодня вернется к тебе сторицей.", 
"Смотри под ноги, но не забывай поднимать голову к небу.", 
"Ответ, который ты ищешь, лежит на поверхности.", 
"Маленькая деталь, которую ты упускаешь, изменит всю картину.", 
"Скоро ты окажешься в нужном месте в самое подходящее время.", 
"Энергия дня благоволит смелым начинаниям, не бойся рискнуть.", 
"Ожидай весточку, которая заставит твое сердце биться чаще.", 
"Тучи рассеются, и ситуация прояснится сама собой.", 
"Твое терпение будет вознаграждено неожиданным образом.", 
"Встреча, которая кажется случайной, предопределена звездами.", 
"Позволь событиям течь своим чередом, не плыви против течения.", 
"Мудрость придет не из книг, а из созерцания окружающего мира.", 
"Кто-то думает о тебе с теплом, и эта энергия защищает тебя.", 
"Предмет, потерянный давно, найдется, когда ты перестанешь искать.", 
"Сегодня интуиция — твой самый надежный компас.", 
"Улыбка фортуны ждет тебя там, где ты привык видеть лишь рутину.", 
"Остерегайся поспешных выводов, истина откроется чуть позже.", 
"Гармония придет в твой дом с заходом солнца.", 
"Птица за окном принесла новость, которую ты скоро узнаешь.", 
"Зеркало покажет тебе не только отражение, но и твою скрытую силу.", 
"Секрет успеха сегодня кроется в умении молчать и наблюдать.", 
"Не бойся закрыть одну дверь, чтобы открылась другая.", 
"Твои мысли сегодня материальны как никогда, думай о благом.", 
"Путешествие, даже короткое, обновит твой дух.", 
"Вода смоет усталость и принесет ясность ума.", 
"Тот, кто был далек, станет ближе, чем ты думаешь.", 
"Сложный узел проблем развяжется легче, чем ты ожидал.", 
"Свет в конце тоннеля уже виден, осталось сделать пару шагов.", 
"Прислушайся к шепоту листвы, природа на твоей стороне.", 
"Цифры, что ты увидишь сегодня, несут тайный смысл.", 
"Неожиданный поворот сюжета сделает твой день незабываемым.", 
"Тепло чужих рук согреет тебя в момент холода.", 
"Книга судьбы открыта на странице удачи.", 
"Твои сомнения развеются, как утренний туман.", 
"Звезды шепчут о приятном сюрпризе в ближайшие часы.", 
"Цвет, который притянет твой взгляд, станет твоим талисманом.", 
"Верь в чудеса, и одно из них постучится в твою дверь.",
                    "Кто-то думает о вас с теплом прямо сейчас. Это даст вам сил."
                ]
            },
            {
                id: 'tarot',
                name: 'Карты Таро',
                description: 'Мудрость арканов',
                messages: [
                    "Колесо Фортуны вращается. Удача на вашей стороне, рискуйте.",
                    "Отшельник советует уединиться. Ответы внутри вас, а не снаружи.",
                    "Туз Пентаклей. Перед вами открывается дверь к богатству.",
                    "Башня разрушает ложное. Не бойтесь перемен, они к лучшему.",
                    "Звезда светит вам. Надежда — ваш главный компас сегодня."
                ]
            }
            // ЧТОБЫ ДОБАВИТЬ СВОЮ БАЗУ:
            // Скопируйте блок выше (от { до },), измените id, name и messages.
        ];

        // ============================================================
        // ЛОГИКА САЙТА
        // ============================================================

        const container = document.getElementById('database-container');
        const btn = document.getElementById('predict-btn');
        const statusText = document.getElementById('status-text');
        const modal = document.getElementById('result-modal');
        const modalSource = document.getElementById('modal-source');
        const typewriterArea = document.getElementById('typewriter-area');
        const cursor = document.getElementById('cursor');

        // 1. Инициализация: Отрисовка баз знаний на экране
        function initDatabases() {
            container.innerHTML = '';
            esotericDatabases.forEach((db, index) => {
                const card = document.createElement('div');
                card.className = 'db-card';
                card.id = `db-${index}`;
                card.innerHTML = `
                    <h3>${db.name}</h3>
                    <div class="text-xs text-gray-400 mt-1 font-sans italic opacity-70">${db.description}</div>
                `;
                container.appendChild(card);
            });
        }

        // 2. Функция старта "Ритуала" (поиска)
        function startRitual() {
            // Блокируем кнопку
            btn.disabled = true;
            btn.innerText = "Поиск судьбы...";
            statusText.style.opacity = '1';
            
            const cards = document.querySelectorAll('.db-card');
            let steps = 0;
            const totalSteps = 20 + Math.floor(Math.random() * 10); // Случайное количество шагов рулетки
            const speedBase = 100; // Базовая скорость

            // Сбрасываем предыдущие стили
            cards.forEach(c => c.classList.remove('selected', 'searching'));

            // Логика "Рулетки"
            let currentIndex = 0;
            
            const loop = () => {
                // Убираем подсветку с предыдущего
                cards.forEach(c => c.classList.remove('searching'));
                
                // Выбираем следующий (случайно или по порядку)
                // Сделаем псевдо-случайный перебор для эффекта хаоса
                currentIndex = Math.floor(Math.random() * cards.length);
                const currentCard = cards[currentIndex];
                
                // Подсвечиваем красным (поиск)
                currentCard.classList.add('searching');
                
                // Меняем текст статуса для атмосферы
                const statusMessages = ["Сканирование эфира...", "Связь с астралом...", "Чтение рун...", "Поиск резонанса..."];
                if (steps % 5 === 0) {
                    statusText.innerText = statusMessages[Math.floor(Math.random() * statusMessages.length)];
                }

                steps++;

                if (steps < totalSteps) {
                    // Продолжаем анимацию с замедлением
                    let speed = speedBase + (steps * 15); // Замедляемся к концу
                    setTimeout(loop, speed > 400 ? 400 : speed); // Максимальная пауза 400мс
                } else {
                    // ФИНАЛ: База выбрана
                    finishRitual(currentIndex);
                }
            };

            loop();
        }

        // 3. Завершение поиска и выбор базы
        function finishRitual(winnerIndex) {
            const cards = document.querySelectorAll('.db-card');
            const winnerCard = cards[winnerIndex];
            const dbData = esotericDatabases[winnerIndex];

            // Убираем красный поиск, ставим золотой выбор
            cards.forEach(c => c.classList.remove('searching'));
            winnerCard.classList.add('selected');
            
            statusText.innerText = `Источник найден: ${dbData.name}`;
            statusText.style.color = "#D4AF37";

            // Небольшая пауза перед открытием результата
            setTimeout(() => {
                openResult(dbData);
            }, 1200);
        }

        // 4. Открытие модального окна и генерация текста
        function openResult(dbData) {
            // Выбираем случайное сообщение из базы
            const randomMsg = dbData.messages[Math.floor(Math.random() * dbData.messages.length)];
            
            modalSource.innerText = dbData.name;
            typewriterArea.innerHTML = ""; // Очищаем
            modal.classList.add('active');

            // Запускаем эффект печатания
            typeWriter(randomMsg, 0);
        }

        // 5. Эффект печатной машинки
        function typeWriter(text, i) {
            if (i < text.length) {
                typewriterArea.innerHTML += text.charAt(i);
                // Случайная скорость для реалистичности
                const speed = Math.random() * 50 + 30; 
                setTimeout(() => typeWriter(text, i + 1), speed);
            } else {
                // Конец печати
                cursor.style.display = 'none'; // Скрываем курсор
            }
        }

        // 6. Закрытие модального окна и сброс
        function closeModal() {
            modal.classList.remove('active');
            
            // Возвращаем кнопку в исходное состояние
            btn.disabled = false;
            btn.innerText = "Узнать судьбу";
            statusText.style.opacity = '0';
            statusText.style.color = "rgb(248 113 113)"; // Возвращаем красный оттенок
            cursor.style.display = 'inline-block';

            // Убираем выделение с карточки
            const cards = document.querySelectorAll('.db-card');
            cards.forEach(c => c.classList.remove('selected'));
        }

        // Запуск при загрузке
        window.onload = initDatabases;

    </script>
</body>
</html>
